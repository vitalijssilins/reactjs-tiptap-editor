"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const j=require("./index-CSvnpArE.cjs"),n=require("react/jsx-runtime"),b=require("react"),v=require("./ActionButton-DY0olRIe.cjs"),h=require("./tooltip-BSrYL2Rz.cjs"),x=require("./popover-C53Gavq8.cjs"),y=require("./Icon-R3ihBJhB.cjs"),M=require("./toggle-B1L5JRmu.cjs"),S=j.Extension.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:t=>{const e=t.style.textAlign;return this.options.alignments.includes(e)?e:this.options.defaultAlignment},renderHTML:t=>t.textAlign?{style:`text-align: ${t.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:t=>({commands:e})=>this.options.alignments.includes(t)?this.options.types.map(l=>e.updateAttributes(l,{textAlign:t})).every(l=>l):!1,unsetTextAlign:()=>({commands:t})=>this.options.types.map(e=>t.resetAttributes(e,"textAlign")).every(e=>e),toggleTextAlign:t=>({editor:e,commands:l})=>this.options.alignments.includes(t)?e.isActive({textAlign:t})?l.unsetTextAlign():l.setTextAlign(t):!1}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}});function C(t){var l;const e=b.useMemo(()=>{var c;const i=(c=t==null?void 0:t.items)==null?void 0:c.find(o=>o.isActive());return i&&!i.default?{...i,icon:i.icon?i.icon:t.icon}:{title:t==null?void 0:t.tooltip,icon:t.icon,isActive:()=>!1}},[t]);return n.jsxs(x.Popover,{modal:!0,children:[n.jsx(x.PopoverTrigger,{asChild:!0,disabled:t==null?void 0:t.disabled,children:n.jsx(v.ActionButton,{customClass:"!richtext-w-12 richtext-h-12",disabled:t==null?void 0:t.disabled,icon:t==null?void 0:t.icon,tooltip:t==null?void 0:t.tooltip,children:n.jsx(y.IconComponent,{className:"richtext-ml-1 richtext-size-3 richtext-text-zinc-500",name:"MenuDown"})})}),n.jsx(x.PopoverContent,{align:"start",className:"richtext-flex richtext-w-full richtext-min-w-4 richtext-flex-row richtext-gap-1 !richtext-p-[4px]",side:"bottom",children:(l=t==null?void 0:t.items)==null?void 0:l.map((i,a)=>{var c,o;return n.jsxs(h.Tooltip,{children:[n.jsx(h.TooltipTrigger,{asChild:!0,children:n.jsx(M.Toggle,{className:"richtext-size-7 richtext-p-1","data-state":e.title===i.title?"on":"off",onClick:i==null?void 0:i.action,pressed:e.title===i.title,size:"sm",children:(i==null?void 0:i.icon)&&n.jsx(y.IconComponent,{name:i.icon})})}),n.jsxs(h.TooltipContent,{className:"richtext-flex richtext-flex-col richtext-items-center",children:[n.jsx("span",{children:i.title}),!!((c=i.shortcutKeys)!=null&&c.length)&&n.jsx("span",{children:(o=i.shortcutKeys)==null?void 0:o.map(r=>h.getShortcutKey(r)).join(" ")})]})]},`text-align-${a}`)})})]})}const q=S.extend({addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),types:["heading","paragraph","list_item","title"],button({editor:e,extension:l,t:i}){var g;const a=((g=l.options)==null?void 0:g.alignments)||[],c={left:["mod","Shift","L"],center:["mod","Shift","E"],right:["mod","Shift","R"],justify:["mod","Shift","J"]},o={left:"AlignLeft",center:"AlignCenter",right:"AlignRight",justify:"AlignJustify"},r=a.map(s=>{var f,u,A;return{title:i(`editor.textalign.${s}.tooltip`),icon:o[s],shortcutKeys:c[s],isActive:()=>e.isActive({textAlign:s})||!1,action:()=>{var d,m;return(m=(d=e.commands)==null?void 0:d.setTextAlign)==null?void 0:m.call(d,s)},disabled:!((A=(u=(f=e==null?void 0:e.can)==null?void 0:f.call(e))==null?void 0:u.setTextAlign)!=null&&A.call(u,s))}}),T=r.filter(s=>s.disabled).length===r.length;return{component:C,componentProps:{icon:"AlignJustify",tooltip:i("editor.textalign.tooltip"),disabled:T,items:r}}}}}});exports.TextAlign=q;

"use strict";const u=require("./index-CSvnpArE.cjs"),l=require("./ActionButton-DY0olRIe.cjs"),m=require("./index-CWKNKm3Y.cjs"),s=require("./index-BObJ0_Vs.cjs"),c=require("react/jsx-runtime"),x=require("react"),d=require("./popover-C53Gavq8.cjs"),h=require("./label-Dy0JqoBR.cjs"),A=require("./input-8Tv6i4jL.cjs"),v=require("./button-BT4Gvjni.cjs");function b(t){const n=["size-small","size-medium","size-large"],i=["SizeS","SizeM","SizeL"];return n.map((e,o)=>({type:`image-${e}`,component:l.ActionButton,componentProps:{tooltip:s.localeActions.t(`editor.${e.replace("-",".")}.tooltip`),icon:i[o],action:()=>t.commands.updateImage({width:m.IMAGE_SIZE[e]}),isActive:()=>t.isActive("image",{width:m.IMAGE_SIZE[e]})}}))}function y(t){const n=["size-small","size-medium","size-large"],i=["SizeS","SizeM","SizeL"];return n.map((e,o)=>({type:`image-${e}`,component:l.ActionButton,componentProps:{tooltip:s.localeActions.t(`editor.${e.replace("-",".")}.tooltip`),icon:i[o],action:()=>t.commands.updateImageGif({width:m.IMAGE_SIZE[e]}),isActive:()=>t.isActive("image",{width:m.IMAGE_SIZE[e]})}}))}function S(t){const n=["left","center","right"],i={left:"AlignLeft",center:"AlignCenter",right:"AlignRight"};return n.map(e=>({type:`image-${e}`,component:l.ActionButton,componentProps:{tooltip:s.localeActions.t(`editor.textalign.${e}.tooltip`),icon:i[e],action:()=>{var o,r;return(r=(o=t.commands)==null?void 0:o.setAlignImage)==null?void 0:r.call(o,e)},isActive:()=>t.isActive({align:e})||!1,disabled:!1}}))}function B(t){const n=["left","center","right"],i={left:"AlignLeft",center:"AlignCenter",right:"AlignRight"};return n.map(e=>({type:`image-${e}`,component:l.ActionButton,componentProps:{tooltip:s.localeActions.t(`editor.textalign.${e}.tooltip`),icon:i[e],action:()=>{var o,r;return(r=(o=t.commands)==null?void 0:o.setAlignImageGif)==null?void 0:r.call(o,e)},isActive:()=>t.isActive({align:e})||!1,disabled:!1}}))}function w(t){const n=["left","center","right"],i={left:"AlignLeft",center:"AlignCenter",right:"AlignRight"};return n.map(e=>({type:`image-${e}`,component:l.ActionButton,componentProps:{tooltip:s.localeActions.t(`editor.textalign.${e}.tooltip`),icon:i[e],action:()=>{var o,r;return(r=(o=t.commands)==null?void 0:o.setAlignImageMermaid)==null?void 0:r.call(o,e)},isActive:()=>t.isActive({align:e})||!1,disabled:!1}}))}function I(t){const n=["left","center","right"],i={left:"AlignLeft",center:"AlignCenter",right:"AlignRight"};return n.map(e=>({type:`image-${e}`,component:l.ActionButton,componentProps:{tooltip:s.localeActions.t(`editor.textalign.${e}.tooltip`),icon:i[e],action:()=>{var o,r;return(r=(o=t.commands)==null?void 0:o.setAlignImageDrawer)==null?void 0:r.call(o,e)},isActive:()=>t.isActive({align:e})||!1,disabled:!1}}))}function M(t){return[{type:"flex-start",icon:"AlignLeft",tooltip:"Align left"},{type:"center",icon:"AlignCenter",tooltip:"Align center"},{type:"flex-end",icon:"AlignRight",tooltip:"Align right"}].map(i=>({type:`video-align-${i.type}`,component:l.ActionButton,componentProps:{tooltip:i.tooltip,icon:i.icon,action:()=>t.commands.updateVideo({align:i.type}),isActive:()=>t.getAttributes("video").align===i.type}}))}function P(t){const n=["size-small","size-medium","size-large"],i=["SizeS","SizeM","SizeL"];return n.map((e,o)=>({type:`video-${e}`,component:l.ActionButton,componentProps:{tooltip:s.localeActions.t(`editor.${e.replace("-",".")}.tooltip`),icon:i[o],action:()=>t.commands.updateVideo({width:m.VIDEO_SIZE[e]}),isActive:()=>t.isActive("video",{width:m.VIDEO_SIZE[e]})}}))}function j(t){return[{type:"flipX",component:l.ActionButton,componentProps:{editor:t,tooltip:s.localeActions.t("editor.tooltip.flipX"),icon:"FlipX",action:()=>{const n=t.getAttributes("image"),{flipX:i}=n;t.chain().focus(void 0,{scrollIntoView:!1}).updateImage({flipX:!i}).run()}}},{type:"flipY",component:l.ActionButton,componentProps:{editor:t,tooltip:s.localeActions.t("editor.tooltip.flipY"),icon:"FlipY",action:()=>{const n=t.getAttributes("image"),{flipY:i}=n;t.chain().focus(void 0,{scrollIntoView:!1}).updateImage({flipY:!i}).run()}}},...b(t),...S(t),{type:"remove",component:l.ActionButton,componentProps:{editor:t,tooltip:s.localeActions.t("editor.remove"),icon:"Trash2",action:()=>{const{state:n,dispatch:i}=t.view;u.deleteSelection(n,i)}}}]}function $(t){return[...y(t),...B(t),{type:"remove",component:l.ActionButton,componentProps:{editor:t,tooltip:s.localeActions.t("editor.remove"),icon:"Trash2",action:()=>{const{state:n,dispatch:i}=t.view;u.deleteSelection(n,i)}}}]}function E(t){return[...w(t),{type:"edit",component:l.ActionButton,componentProps:{editor:t,tooltip:s.localeActions.t("editor.edit"),icon:"Pencil",action:()=>!0}},{type:"remove",component:l.ActionButton,componentProps:{editor:t,tooltip:s.localeActions.t("editor.remove"),icon:"Trash2",action:()=>{const{state:n,dispatch:i}=t.view;u.deleteSelection(n,i)}}}]}function z(t){return[...I(t),{type:"edit",component:l.ActionButton,componentProps:{editor:t,tooltip:s.localeActions.t("editor.edit"),icon:"Pencil",action:()=>(console.log("AAA"),!0)}},{type:"remove",component:l.ActionButton,componentProps:{editor:t,tooltip:s.localeActions.t("editor.remove"),icon:"Trash2",action:()=>{const{state:n,dispatch:i}=t.view;u.deleteSelection(n,i)}}}]}function L(t){return[...P(t),...M(t),{type:"remove",component:l.ActionButton,componentProps:{editor:t,tooltip:s.localeActions.t("editor.remove"),icon:"Trash2",action:()=>{const{state:n,dispatch:i}=t.view;u.deleteSelection(n,i)}}}]}function q(t,n){return m.BUBBLE_TEXT_LIST.reduce((i,e)=>{if(e==="divider"&&i.length>0)return[...i,{type:"divider",component:void 0,componentProps:{}}];const o=t.extensionManager.extensions.find(r=>r.name===e);return o?[...i,o.configure().options.button({editor:t,t:n,extension:o})]:i},[])}const N={padding:"0 12px 12px"},T=({width:t,maxWidth:n,height:i,onOk:e,children:o})=>{const{t:r}=s.useLocale(),[p,g]=x.useState({width:"",height:"",maxWidth:""});x.useEffect(()=>{g({width:t,height:i,maxWidth:n})},[i,n,t]);function f(a){a.preventDefault(),a.stopPropagation(),e(p)}return c.jsxs(d.Popover,{modal:!0,children:[c.jsx(d.PopoverTrigger,{asChild:!0,children:o}),c.jsx(d.PopoverContent,{children:c.jsx("div",{style:N,children:c.jsxs("form",{className:"richtext-flex richtext-flex-col richtext-gap-2",onSubmit:f,children:[c.jsx(h.Label,{className:"mb-[6px]",children:"Width"}),c.jsx("div",{className:"richtext-flex richtext-w-full richtext-max-w-sm richtext-items-center richtext-gap-1.5",children:c.jsx("div",{className:"richtext-relative richtext-items-center richtext-w-full richtext-max-w-sm",children:c.jsx(A.Input,{type:"number",value:p.width,required:!0,onChange:a=>g({...p,width:a.target.value})})})}),c.jsx(h.Label,{className:"mb-[6px]",children:"Max Width"}),c.jsx("div",{className:"richtext-flex richtext-w-full richtext-max-w-sm richtext-items-center richtext-gap-1.5",children:c.jsx("div",{className:"richtext-relative richtext-items-center richtext-w-full richtext-max-w-sm",children:c.jsx(A.Input,{type:"number",value:p.maxWidth,required:!0,onChange:a=>g({...p,maxWidth:a.target.value})})})}),c.jsx(h.Label,{className:"mb-[6px]",children:"Height"}),c.jsx("div",{className:"richtext-flex richtext-w-full richtext-max-w-sm richtext-items-center richtext-gap-1.5",children:c.jsx("div",{className:"richtext-relative richtext-items-center richtext-w-full richtext-max-w-sm",children:c.jsx(A.Input,{type:"number",value:p.height,required:!0,onChange:a=>g({...p,height:a.target.value})})})}),c.jsx(v.Button,{type:"submit",className:"richtext-self-end richtext-mt-2",children:r("editor.link.dialog.button.apply")})]})})})]})};exports.SizeSetter=T;exports.getBubbleDrawer=z;exports.getBubbleImage=j;exports.getBubbleImageGif=$;exports.getBubbleMermaid=E;exports.getBubbleText=q;exports.getBubbleVideo=L;

"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});require("./index-CrxasX7b.cjs");const y=require("./index-CSvnpArE.cjs"),F=require("./index-CWKNKm3Y.cjs"),o=require("react/jsx-runtime"),m=require("react"),x=require("./ActionMenuButton-BOcq29GF.cjs"),h=require("./index-BObJ0_Vs.cjs"),r=require("./dropdown-menu-Hk-jMIb6.cjs"),M=require("./utils-DmD36e1i.cjs"),b=y.Extension.create({name:"fontFamily",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontFamily:{default:null,parseHTML:t=>t.style.fontFamily,renderHTML:t=>t.fontFamily?{style:`font-family: ${t.fontFamily}`}:{}}}}]},addCommands(){return{setFontFamily:t=>({chain:i})=>i().setMark("textStyle",{fontFamily:t}).run(),unsetFontFamily:()=>({chain:t})=>t().setMark("textStyle",{fontFamily:null}).removeEmptyTextStyle().run()}}});function L(t){var d,c,u;const{t:i,lang:s}=h.useLocale(),e=m.useMemo(()=>{var a;const n=(a=t==null?void 0:t.items)==null?void 0:a.find(l=>l.isActive());return n&&!n.default?{...n}:{title:t.tooltip,font:i("editor.fontFamily.default.tooltip"),isActive:()=>!1,disabled:!1,action:()=>t.editor.chain().focus().unsetFontFamily().run()}},[i,s,t]);return o.jsxs(r.DropdownMenu,{children:[o.jsx(r.DropdownMenuTrigger,{asChild:!0,disabled:t==null?void 0:t.disabled,children:o.jsx(x.ActionMenuButton,{disabled:t==null?void 0:t.disabled,icon:"MenuDown",title:((d=e==null?void 0:e.font)==null?void 0:d.length)>7?`${(c=e==null?void 0:e.font)==null?void 0:c.slice(0,6)}...`:e==null?void 0:e.font,tooltip:t==null?void 0:t.tooltip})}),o.jsx(r.DropdownMenuContent,{className:"richtext-w-full",children:(u=t==null?void 0:t.items)==null?void 0:u.map((n,f)=>{const a=n.font===i("editor.fontFamily.default.tooltip")?{}:{fontFamily:n.font};return o.jsxs(m.Fragment,{children:[o.jsx(r.DropdownMenuCheckboxItem,{checked:(e==null?void 0:e.font)===n.font,onClick:n.action,children:o.jsx("div",{className:"richtext-ml-1 richtext-h-full",style:a,children:n.font})}),n.font===i("editor.fontFamily.default.tooltip")&&o.jsx(r.DropdownMenuSeparator,{})]},`font-family-${f}`)})})]})}const A=b.extend({addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),fontFamilyList:F.DEFAULT_FONT_FAMILY_LIST,button({editor:i,extension:s,t:e}){var a;const{extensions:d=[]}=i.extensionManager??[],c=M.ensureNameValueOptions(((a=s==null?void 0:s.options)==null?void 0:a.fontFamilyList)||[]),u=d.find(l=>l.name==="base-kit"),n=c.map(l=>({action:()=>{i.chain().focus().setFontFamily(l.value).run()},isActive:()=>i.isActive("textStyle",{fontFamily:l.value})||!1,disabled:!i.can().setFontFamily(l.value),title:l.name,font:l.value}));u&&u.options.textStyle!==!1&&n.unshift({action:()=>i.chain().focus().unsetFontFamily().run(),isActive:()=>!1,disabled:!1,font:e("editor.fontFamily.default.tooltip"),title:e("editor.fontFamily.tooltip")});const f=n.filter(l=>l.disabled).length===n.length;return{component:L,componentProps:{tooltip:e("editor.fontFamily.tooltip"),disabled:f,items:n,editor:i}}}}}});exports.DEFAULT_FONT_FAMILY_LIST=F.DEFAULT_FONT_FAMILY_LIST;exports.FontFamily=A;
